import React from 'react';
import { useSelector } from 'react-redux';
import CartList from './CartList';
import CartPrice from './CartPrice';
import './Cart.css';
import EmptyCart from './EmptyCart';

export default function Cart() {

    const carts = useSelector(state => state.carts);
    const sortedCart = carts.slice().sort((a, b) => (b.quantity - a.quantity));


    const renderedProduct = sortedCart.map(cart => {
        return (<CartList key={cart.id} cart={cart} />)
    })

    return (
        <div className='cart'>
            {carts.length > 0 ?
                <div>
                    <div className='cart-left'>
                        {renderedProduct}
                    </div>
                    <div className='cart-right'>
                        <CartPrice />
                    </div>
                </div>
                : <EmptyCart />}
        </div>
    )
}
