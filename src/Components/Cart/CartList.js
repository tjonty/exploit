import React from 'react';
import { incProduct, decProduct, delProduct } from './CartSlicer';
import { useDispatch } from 'react-redux';
import './CartList.css';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faTrash } from '@fortawesome/free-solid-svg-icons';

export default function CartList({ cart }) {
    let { title, price, id, quantity, image, cat } = cart;

    const dispatch = useDispatch();

    function handleIncCart() {
        dispatch(incProduct({ id }));
    }

    function handleDecCart() {
        dispatch(decProduct({ id }));
    }

    function handleDelCart() {
        dispatch(delProduct({id}));
    }

    return (
        <div className='product' key={id}>
            <img className='product-img' src={image} alt='shoes' />
            <div className='product-content'>
                <h3 className='cart-product-name'>{title}</h3>
                <p className='product-category'>{cat}</p>
                <p className='product-price'>${price}/-</p>
                <button className='quantity-btn' onClick={handleIncCart}>+</button>
                <input type='text' className='product-quantity' value={quantity} />
                <button className='quantity-btn' onClick={handleDecCart} disabled={quantity===1 ? 'true' : '' }>-</button>
                <button className='delete-btn' onClick={handleDelCart}>
                    <FontAwesomeIcon icon={faTrash} />
                </button>
            </div>
        </div>
    )
}
