import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { addToList } from '../Product/filteredProductSlice';

export default function Search() {
    
    const products = useSelector(state => state.products);
    
    const dispatch = useDispatch();

    function filteredProducts(term) {
        console.log("terms : " + term);
        console.log(products.filter(product => product.title.includes(term)));
        dispatch(addToList(products.filter(product => product.title.includes(term))));
    }
    return (
        <div>
            <input className='search input' type="text" placeholder='Seach' onChange={(e) => filteredProducts(e.target.value)}></input>
            <button className='search btn' type='submit' onClick={(e) => filteredProducts(e.target.value)}>Search</button>
        </div>
    )
}
