import React from 'react';
import { useSelector } from 'react-redux';
import { Link } from 'react-router-dom';
import Product from '../Product/Product';
import './Category.css';

export default function ScrollCategory({ name }) {

    const products = useSelector(state => state.products);
    const filteredProduct = products.filter(product => product.cat === name);
    const searchProducts = useSelector(state => state.filteredProducts);

    const isFilteredProduct = searchProducts[0] || filteredProduct;

    const renderedProduct = isFilteredProduct.map(product => {
        return <Product key={product.id} product={product} />
    });

    return (
        <>
            <h1 className="scroll-head">
                {name}
                &nbsp;
                &nbsp;
                <span className="">
                    <Link className="link view-all" to={`/category/${name}`}>
                        View All
                    </Link>
                </span>
            </h1>
            <div className="scrolling-wrapper">
                {renderedProduct}
            </div>
            <hr />
        </>
    )
}
