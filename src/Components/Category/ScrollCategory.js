import React from 'react';
import { useSelector } from 'react-redux';
import { Link } from 'react-router-dom';
import Product from '../Product/Product';
import './Category.css';

export default function ScrollCategory({ name, product_name }) {

    const products = useSelector(state => state.products);
    let filteredProduct;
    if (product_name) {
        filteredProduct = products.filter(product => product.cat === name && product.title !== product_name);
    } else {
        filteredProduct = products.filter(product => product.cat === name);
    }
    const searchProducts = useSelector(state => state.filteredProducts);

    const renderedProduct = filteredProduct.map(product => {
        return <Product key={product.id} product={product} cssName="scroll-product"/>
    });

    return (
        <>
            <h1 className="h1-cat-name">
                {name}
                &nbsp;
                &nbsp;
                <span className="">
                    <Link className="link view-all" to={`/category/${name}`}>
                        View All
                    </Link>
                </span>
            </h1>
            <div className="scrolling-wrapper">
                {renderedProduct}
            </div>
            <hr />
        </>
    )
}
